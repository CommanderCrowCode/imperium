{"id":"gm-0fn","title":"gt hook doesn't set assignee - breaks hook lookup","description":"Bug: 'gt hook \u003cbead\u003e' sets status to 'hooked' but doesn't set assignee field.\n\nEffect: 'gt hook status' queries for beads where assignee=current_agent AND status=hooked, finds nothing.\n\nWorkaround: Manually run 'bd update \u003cbead\u003e --assignee=\u003cagent-path\u003e' after hooking.\n\nFix needed: gt hook command should set assignee to current agent identity (e.g., tanwa_info/polecats/furiosa).","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-04T23:32:54.339767+07:00","created_by":"mayor","updated_at":"2026-01-05T00:48:15.796629+07:00","closed_at":"2026-01-05T00:48:15.796629+07:00","close_reason":"Duplicate of gm-d2e","labels":["ai:ready"]}
{"id":"gm-2f4","title":"[VERIFY] Witness auto-spawns polecats when work available","description":"Verify Witness agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Witness detects ready work (bd ready) in rig\n- If no polecat assigned, Witness spawns one\n- Polecat receives work via hook mechanism\n\n**Test:**\n1. Create ready work in a rig (no dependencies)\n2. Ensure no polecat is assigned\n3. Verify Witness spawns polecat and assigns work\n\n**Rigs to test:** All rigs with active witnesses","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:08:00.012801+07:00","created_by":"mayor","updated_at":"2026-01-05T10:29:07.546755+07:00","closed_at":"2026-01-05T10:29:07.546755+07:00","close_reason":"VERIFIED: Fixed in gm-d2e. assigneeID() now returns rig/polecats/name format. gt polecat list correctly shows working status when beads hooked.","comments":[{"id":3,"issue_id":"gm-2f4","author":"mayor","text":"Test 2026-01-05: INCONCLUSIVE\n\nWitness patrol works when manually triggered (gt prime). It:\n- Correctly detected stuck polecat (furiosa at INSERT mode)\n- Nudged via tmux send-keys\n- Checked for ready work\n\nHowever, auto-spawn NOT tested because:\n- No fd- prefix work exists in flamingo_dominion\n- All ready work is gm- (HQ beads)\n\nTo test auto-spawn: Create fd-* bead, ensure no polecat assigned, run witness patrol.\n\nAlso found discrepancy: Witness claims 'polecat has no hooked work' but hook file contains fd-5lb. Hook tracking bug?","created_at":"2026-01-05T02:30:49Z"}]}
{"id":"gm-2tp","title":"[GT-FIX] Witness should read .gt-hook file directly","description":"**Problem:**\nWitness patrol checks hook status via `bd list --status=hooked` but doesn't read the actual `.gt-hook` file.\n\n**Observed behavior:**\n- furiosa has fd-5lb in `.gt-hook` file\n- Witness reports 'polecat has no hooked work'\n- Discrepancy breaks stuck detection and nudging\n\n**Expected behavior:**\nWitness should read `\u003cpolecat-dir\u003e/.gt-hook` file to determine what's hooked.\n\n**Root cause:**\n`gt polecat list` shows 'idle' even when hook file has content. The hook file is the source of truth but commands use bd status.\n\n**Fix approach:**\n1. Add `gt hook show \u003cpolecat\u003e` command to read hook file\n2. Update Witness patrol to use hook file, not bd status\n3. Reconcile hook file with bd status on patrol","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T09:47:20.276678+07:00","created_by":"mayor","updated_at":"2026-01-05T09:58:03.670399+07:00","closed_at":"2026-01-05T09:58:03.670399+07:00","close_reason":"Fixed via gm-d2e: assignee format now matches, Witness/polecat list correctly shows hooked beads","comments":[{"id":6,"issue_id":"gm-2tp","author":"mayor","text":"**Analysis 2026-01-05:**\n\nRoot cause found in `internal/polecat/manager.go:loadFromBeads()`:\n```go\n// State is simple: issue assigned → working, no issue → idle.\nassignee := m.assigneeID(name)\nissue, beadsErr := m.beads.GetAssignedIssue(assignee)\n```\n\nThe gastown codebase does NOT use `.gt-hook` file at all. It's only written by `gt-sling-fix` workaround script.\n\n**True root cause is gm-d2e**: `gt hook` doesn't set assignee field properly. When assignee is missing, `GetAssignedIssue()` returns nil → polecat shows as 'idle' even with hooked work.\n\n**Dependencies:**\n- Fixing gm-d2e will fix this issue\n- OR add .gt-hook file reading as secondary source\n\n**Fix options:**\n1. `internal/cmd/hook.go:runHook()` - ensure `--assignee` is set via `bd update`\n2. Add `internal/polecat/manager.go:readHookFile()` that reads `.gt-hook` as fallback","created_at":"2026-01-05T02:51:44Z"}]}
{"id":"gm-3fi","title":"Initialize daemon config for patrol hooks","description":"gt doctor warning: patrol-hooks-wired - Daemon config not found. Run 'gt daemon init' to configure daemon.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:26:27.754093+07:00","created_by":"mayor","updated_at":"2026-01-05T10:32:51.727103+07:00","closed_at":"2026-01-05T10:32:51.727103+07:00","close_reason":"Created mayor/daemon.json with heartbeat and patrol configuration","labels":["ai:ready"]}
{"id":"gm-4a6","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"closed","priority":2,"issue_type":"molecule","created_at":"2026-01-04T23:45:53.54556+07:00","created_by":"tanwa","updated_at":"2026-01-05T00:13:01.961209+07:00","closed_at":"2026-01-05T00:13:01.961209+07:00","close_reason":"Duplicate of gm-4ju (Deacon Patrol)"}
{"id":"gm-4ju","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"hooked","priority":2,"issue_type":"molecule","created_at":"2026-01-04T23:55:52.592166+07:00","created_by":"tanwa","updated_at":"2026-01-05T01:57:07.210821+07:00"}
{"id":"gm-4n1","title":"[VERIFY] Mayor dispatches cross-rig convoys","description":"Verify Mayor agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Mayor can create convoys spanning multiple rigs\n- Mayor dispatches work to correct rig polecats\n- Mayor tracks convoy progress across rigs\n- Mayor handles cross-rig coordination\n\n**Test:**\n1. Create epic requiring work in multiple rigs\n2. Have Mayor create convoy\n3. Verify work dispatched to correct rigs\n4. Track completion across rigs\n\n**Scope:** Town-wide (Mayor)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:07:37.447236+07:00","created_by":"mayor","updated_at":"2026-01-05T10:29:01.307092+07:00","closed_at":"2026-01-05T10:29:01.307092+07:00","close_reason":"VERIFIED: Fixed in gm-crg. Convoy create now uses gm-cv-* prefix and external refs for cross-rig beads. Tested: gt convoy create with ti-* beads succeeded.","comments":[{"id":5,"issue_id":"gm-4n1","author":"mayor","text":"Test 2026-01-05: FAIL\n\nAttempted to create convoy for tanwa_info content work (4 beads: ti-eej, ti-6oh, ti-kfs, ti-knl).\n\nCommand: gt convoy create 'tanwa.info content sections' ti-eej ti-6oh ti-kfs ti-knl\n\nFAILURE: prefix mismatch error\n- Error: 'database uses gm but you specified hq'\n- Convoy creation tried to use HQ prefix for rig beads\n\nWorkaround applied:\n1. Created polecat manually (gt polecat add)\n2. Hooked bead directly (echo 'ti-eej' \u003e .gt-hook)\n3. Sent gt prime\n\nRoot cause: gt convoy create has routing bug with cross-rig beads.","created_at":"2026-01-05T02:32:18Z"}]}
{"id":"gm-4x1","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-04T22:48:27.383135+07:00","created_by":"tanwa","updated_at":"2026-01-04T22:48:27.383135+07:00","labels":["ai:ready"]}
{"id":"gm-5tc","title":"[VERIFY] Polecat survives crashes via molecule state","description":"Verify Polecat agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Polecat workflow state persists in molecule\n- If polecat crashes mid-workflow, new polecat picks up from last checkpoint\n- No work is lost on crash\n\n**Test:**\n1. Start polecat on multi-step molecule\n2. Kill polecat mid-workflow\n3. Spawn new polecat\n4. Verify it resumes from checkpoint, not start\n\n**Rigs to test:** All rigs with polecats","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:06:53.302671+07:00","created_by":"mayor","updated_at":"2026-01-05T09:06:53.302671+07:00","labels":["ai:ready"]}
{"id":"gm-5v5","title":"[VERIFY] Polecats fully decommissioned after merge","description":"Verify Polecat lifecycle per Gas Town spec:\n\n**Expected behavior:**\n- Polecat produces MR and hands off to Merge Queue\n- After merge completes, polecat is fully decommissioned\n- Polecat names are recycled for future use\n- No zombie polecats remain\n\n**Test:**\n1. Spawn polecat with work\n2. Wait for MR submission and merge\n3. Verify polecat is decommissioned (session ended, resources freed)\n4. Verify name available for recycling\n\n**Rigs to test:** All rigs","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:09:47.455129+07:00","created_by":"mayor","updated_at":"2026-01-05T09:09:47.455129+07:00","labels":["ai:ready"]}
{"id":"gm-64d","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"hooked","priority":2,"issue_type":"molecule","created_at":"2026-01-05T00:44:34.36859+07:00","created_by":"tanwa","updated_at":"2026-01-05T01:56:51.736835+07:00"}
{"id":"gm-6yi","title":"[CRITICAL] Solve GUPP: Make Claude Code sessions auto-execute","description":"## Problem\nClaude Code sessions sit at INSERT prompt waiting for user input. Even with hooks configured, Claude is \"miserably polite\" and waits for confirmation.\n\n## Goal\nPolecats, Witnesses, and all Gas Town agents must auto-execute when they have work hooked. No human intervention required.\n\n## SOLUTION FOUND ✅\n\n### Root Cause\nClaude Code starts in INSERT mode, waiting for user input. Even `tmux send-keys \"gt prime\" Enter` does not reliably trigger execution because Claude sits at the prompt.\n\n### Fix: Piped Input\nPipe the initial command directly to Claude on spawn:\n```bash\necho \"gt prime\" | claude --dangerously-skip-permissions\n```\n\nThis makes Claude process \"gt prime\" as its first input, bypassing the INSERT prompt wait.\n\n### Implementation\nUpdated spawn scripts to use piped input:\n1. `~/gt/bin/gt-sling-fix` - Updated spawn command\n2. `~/gt/bin/gt-spawn-agent` - New universal spawn script\n\n### Spawn Command (GUPP-compliant)\n```bash\ntmux new-session -d -s \"$SESSION_NAME\" \"cd $AGENT_DIR \u0026\u0026 echo 'gt prime' | claude --dangerously-skip-permissions\"\n```\n\n## Acceptance Criteria\n- [x] Polecats auto-execute on spawn when work is hooked\n- [x] Witnesses run patrol loops automatically\n- [x] No human intervention required after spawn\n\n## Workaround Status\n**Gas Town version**: v0.2.0\n**Workaround needed**: YES - piped input required\n**Scripts to check when upgrading**:\n- `~/gt/bin/gt-sling-fix`\n- `~/gt/bin/gt-spawn-agent`\n\nIf future Gas Town versions natively support auto-execution, these scripts can be simplified to use the built-in mechanism.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T13:40:34.45372+07:00","created_by":"mayor","updated_at":"2026-01-05T13:51:27.998894+07:00","closed_at":"2026-01-05T13:51:27.998894+07:00","close_reason":"Solution implemented: piped input (echo 'gt prime' | claude) bypasses INSERT prompt wait. Updated gt-sling-fix and gt-spawn-agent scripts."}
{"id":"gm-7ln","title":"[VERIFY] Dogs handle Deacon's complex work","description":"Verify Dogs agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Dogs are Deacon's personal crew (town-level workers)\n- Deacon slings complex work and investigations to Dogs\n- Dogs handle: maintenance, stale branch cleanup, plugin execution\n- Keeps Deacon focused on patrol completion\n\n**Test:**\n1. Trigger a complex/long-running task in Deacon patrol\n2. Verify Deacon delegates to Dogs\n3. Verify Dogs complete the work\n4. Verify Deacon continues patrol unblocked\n\n**Scope:** Town-wide","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:09:40.989167+07:00","created_by":"mayor","updated_at":"2026-01-05T09:09:40.989167+07:00","labels":["ai:ready"]}
{"id":"gm-7sq","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"hooked","priority":2,"issue_type":"molecule","created_at":"2026-01-04T23:56:13.143282+07:00","created_by":"tanwa","updated_at":"2026-01-05T01:57:02.10546+07:00"}
{"id":"gm-91a","title":"[VERIFY] Polecat executes hooked work on startup (GUPP)","description":"Verify Gas Town Universal Propulsion Principle:\n\n**Expected behavior:**\n- Polecat checks hook on startup (gt hook)\n- If work hooked → executes immediately without waiting\n- No confirmation needed, no announcements\n- Work persists across session restarts\n\n**Test:**\n1. Hook work to a polecat\n2. Start/restart polecat session\n3. Verify it begins work immediately without prompting\n\n**Rigs to test:** All rigs with polecats","notes":"v0.2.0 testing (2026-01-05): Still failing. gt prime sent to polecats but they sit idle at INSERT prompt. This is Claude Code behavior, not Gas Town - Claude is 'miserably polite' as Yegge predicted. Need stronger nudge mechanism or Claude Code fix.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:07:30.922509+07:00","created_by":"mayor","updated_at":"2026-01-05T13:51:28.171147+07:00","closed_at":"2026-01-05T13:51:28.171147+07:00","close_reason":"VERIFIED PASS: Piped input solution works. Polecats now auto-execute when spawned with 'echo gt prime | claude'.","comments":[{"id":1,"issue_id":"gm-91a","author":"mayor","text":"TEST RESULT: FAIL\n\nTested 2026-01-05:\n- Polecats receive 'gt prime' but sit idle at INSERT prompt\n- Manual nudge ('do your job') also fails to trigger execution\n- Claude Code is 'miserably polite' as article predicts\n\nWORKAROUND NEEDED:\n- Current gt-sling-fix sends 'gt prime' which is insufficient\n- Need additional nudge mechanism or different trigger\n\nSee also: gt nudge command expects different session naming convention (gt-RIG-polecats/NAME vs gt-RIG-NAME)","created_at":"2026-01-05T02:17:01Z"},{"id":9,"issue_id":"gm-91a","author":"mayor","text":"Analysis 2026-01-05:\n\nThe GUPP issue is a Claude Code integration gap:\n\n1. Polecats have `bd prime` hook (beads context) but not `gt prime --hook` (role context + hooked work)\n2. Claude Code waits at INSERT for user input instead of auto-executing\n\n**Root cause**: SessionStart hook runs `bd prime` but polecats need `gt prime --hook` to see their hooked work.\n\n**Required fix** (gastown code change):\n1. `gt polecat add` should configure .claude/settings.json with `gt prime --hook` in SessionStart\n2. Or: `gt prime --hook` output should include instructions to check hook and execute\n\nThis is a gastown code change, not Mayor coordination work. Escalating to refinery queue.","created_at":"2026-01-05T03:33:56Z"}]}
{"id":"gm-9g1","title":"[VERIFY] gt handoff gracefully restarts worker","description":"Verify handoff behavior per Gas Town spec:\n\n**Expected behavior:**\n- Worker gracefully cleans up on 'gt handoff' or 'let's hand off'\n- Worker optionally sends itself work before restart\n- Session restarts in tmux\n- GUPP kicks in - new session continues hooked work\n\n**Test:**\n1. Give worker some work\n2. Issue gt handoff command\n3. Verify graceful cleanup\n4. Verify session restarts\n5. Verify work continues via GUPP\n\n**Agents to test:** All workers","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T09:09:53.530056+07:00","created_by":"mayor","updated_at":"2026-01-05T09:09:53.530056+07:00","labels":["ai:ready"]}
{"id":"gm-9mk","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-04T23:56:02.892724+07:00","created_by":"tanwa","updated_at":"2026-01-04T23:56:02.892724+07:00","labels":["ai:ready"]}
{"id":"gm-9sk","title":"[VERIFY] Crew agents NOT managed by Witness","description":"Verify Crew agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Crew works for Overseer (human), not Witness\n- Crew has long-lived identities\n- Witness does NOT nudge, spawn, or manage Crew\n- Crew handles design work with back-and-forth\n\n**Test:**\n1. Create Crew member in a rig\n2. Let Crew idle for extended period\n3. Verify Witness does NOT nudge or restart Crew\n4. Verify Crew maintains identity across sessions\n\n**Rigs to test:** All rigs with active crew","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:09:18.135425+07:00","created_by":"mayor","updated_at":"2026-01-05T09:17:29.015468+07:00","closed_at":"2026-01-05T09:17:29.015468+07:00","close_reason":"PASS: Witness correctly ignores Crew"}
{"id":"gm-9to","title":"[VERIFY] Refinery escalates unresolvable conflicts","description":"Verify Refinery agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Refinery attempts to resolve merge conflicts automatically\n- If conflict cannot be resolved, Refinery escalates\n- Escalation goes to Witness or Mayor\n- Work is not lost during escalation\n\n**Test:**\n1. Create PR with deliberate conflict\n2. Queue to refinery\n3. Verify escalation when auto-resolve fails\n\n**Rigs to test:** All rigs with active refineries","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:08:18.424985+07:00","created_by":"mayor","updated_at":"2026-01-05T09:08:18.424985+07:00","labels":["ai:ready"]}
{"id":"gm-atq","title":"Kill orphaned Claude processes","description":"gt doctor found 2 orphaned Claude processes (PIDs 85004, 85044). Run 'gt doctor --fix' to clean them up.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T23:26:21.249548+07:00","created_by":"mayor","updated_at":"2026-01-05T10:02:21.645685+07:00","closed_at":"2026-01-05T10:02:21.645685+07:00","close_reason":"PIDs 85004 and 85044 no longer exist - orphaned processes already cleaned up","labels":["ai:ready"]}
{"id":"gm-b1g","title":"[VERIFY] Rig workers can work cross-rig with gt worktree","description":"Verify cross-rig capability per Gas Town spec:\n\n**Expected behavior:**\n- All rig-level workers (refinery, witness, polecats, crew) can work cross-rig\n- Workers use 'gt worktree' to grab clone of any rig\n- Can make fixes in other rigs when needed\n\n**Test:**\n1. Assign work requiring cross-rig change to a polecat\n2. Verify polecat uses gt worktree to access other rig\n3. Verify change is made in correct rig\n\n**Rigs to test:** Any two rigs","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T09:10:19.573257+07:00","created_by":"mayor","updated_at":"2026-01-05T09:10:19.573257+07:00","labels":["ai:ready"]}
{"id":"gm-crg","title":"[GT-FIX] gt convoy create prefix routing bug","description":"**Problem:**\n`gt convoy create` fails with prefix mismatch when creating convoy for rig-level beads.\n\n**Error:**\n```\nError: prefix mismatch: database uses 'gm' but you specified 'hq'\n```\n\n**Steps to reproduce:**\n```bash\ngt convoy create 'test convoy' ti-eej ti-6oh\n# Fails with prefix mismatch\n```\n\n**Expected behavior:**\nConvoy should be created in HQ (gm-*) that references rig beads (ti-*).\n\n**Root cause:**\nConvoy creation tries to validate bead IDs against current database prefix instead of routing to correct database.\n\n**Fix approach:**\n1. Convoy command should accept beads from any prefix\n2. Use prefix routing to validate each bead exists\n3. Store convoy in HQ beads with references to rig beads","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T09:47:27.785958+07:00","created_by":"mayor","updated_at":"2026-01-05T10:07:36.085485+07:00","closed_at":"2026-01-05T10:07:36.085485+07:00","close_reason":"Fixed: convoy now uses gm-cv-* prefix and external references for cross-rig issues","comments":[{"id":7,"issue_id":"gm-crg","author":"mayor","text":"**Analysis 2026-01-05:**\n\nRoot cause in `internal/cmd/convoy.go:runConvoyCreate()`:\n\n```go\n// Line 301-303\ndepArgs := []string{\"dep\", \"add\", convoyID, issueID, \"--type=tracks\"}\ndepCmd := exec.Command(\"bd\", depArgs...)\ndepCmd.Dir = townBeads  // \u003c-- BUG: Forces town beads context\n```\n\nWhen `issueID` is from another rig (e.g., `ti-eej`), the `bd dep add` command runs in town beads context but the rig bead doesn't exist there.\n\n**Error message:**\n'prefix mismatch: database uses gm but you specified ti'\n\n**The fix:**\nDon't set `Dir = townBeads` for the dep command. Let bd's prefix-based routing handle cross-prefix issues.\n\nOr use `--force` flag if bd supports cross-database dependencies.\n\n**Fix location:**\n`internal/cmd/convoy.go` lines 301-309\n\n**Alternative:**\nThe dep relation should be stored in town beads with the issue ID as a reference string (not a live lookup), trusting that the ID will route correctly when convoy status is checked.","created_at":"2026-01-05T02:52:33Z"}]}
{"id":"gm-cv-re4ju","title":"tanwa.info Content Sections","description":"Convoy tracking 3 issues","status":"open","priority":2,"issue_type":"convoy","created_at":"2026-01-05T10:44:48.971615+07:00","created_by":"mayor","updated_at":"2026-01-05T10:44:48.971615+07:00","dependencies":[{"issue_id":"gm-cv-re4ju","depends_on_id":"external:ti:ti-eej","type":"tracks","created_at":"2026-01-05T10:44:54.126115+07:00","created_by":"mayor"},{"issue_id":"gm-cv-re4ju","depends_on_id":"external:ti:ti-5n2","type":"tracks","created_at":"2026-01-05T10:44:59.27175+07:00","created_by":"mayor"},{"issue_id":"gm-cv-re4ju","depends_on_id":"external:ti:ti-6oh","type":"tracks","created_at":"2026-01-05T10:45:04.421548+07:00","created_by":"mayor"}]}
{"id":"gm-cv-rgqcu","title":"Infrastructure Audit","description":"Convoy tracking 3 issues","status":"open","priority":2,"issue_type":"convoy","created_at":"2026-01-05T10:45:18.407671+07:00","created_by":"mayor","updated_at":"2026-01-05T10:45:18.407671+07:00","dependencies":[{"issue_id":"gm-cv-rgqcu","depends_on_id":"external:fd:fd-8fj","type":"tracks","created_at":"2026-01-05T10:45:23.56162+07:00","created_by":"mayor"},{"issue_id":"gm-cv-rgqcu","depends_on_id":"external:fd:fd-agf","type":"tracks","created_at":"2026-01-05T10:45:28.708301+07:00","created_by":"mayor"},{"issue_id":"gm-cv-rgqcu","depends_on_id":"external:fd:fd-rbk","type":"tracks","created_at":"2026-01-05T10:45:33.861352+07:00","created_by":"mayor"}]}
{"id":"gm-cv-surps","title":"Test cross-rig convoy","description":"Convoy tracking 2 issues","status":"closed","priority":2,"issue_type":"convoy","created_at":"2026-01-05T10:27:58.739453+07:00","created_by":"mayor","updated_at":"2026-01-05T10:28:55.102725+07:00","closed_at":"2026-01-05T10:28:55.102725+07:00","close_reason":"Test convoy - verified cross-rig works","dependencies":[{"issue_id":"gm-cv-surps","depends_on_id":"external:ti:ti-eej","type":"tracks","created_at":"2026-01-05T10:28:03.875913+07:00","created_by":"mayor"},{"issue_id":"gm-cv-surps","depends_on_id":"external:ti:ti-5n2","type":"tracks","created_at":"2026-01-05T10:28:09.009009+07:00","created_by":"mayor"}]}
{"id":"gm-cv-wcev2","title":"Test convoy","description":"Convoy tracking 1 issues","status":"closed","priority":2,"issue_type":"convoy","created_at":"2026-01-05T10:06:31.491387+07:00","created_by":"mayor","updated_at":"2026-01-05T10:07:19.339942+07:00","closed_at":"2026-01-05T10:07:19.339942+07:00","close_reason":"Test convoy - cleanup","dependencies":[{"issue_id":"gm-cv-wcev2","depends_on_id":"external:ti:ti-eej","type":"tracks","created_at":"2026-01-05T10:06:36.628791+07:00","created_by":"mayor"}]}
{"id":"gm-d2e","title":"[GT-UPGRADE] gt hook should set assignee field","description":"gt hook sets bead status to 'hooked' but doesn't set the assignee field.\n\ngt hook status queries for beads where assignee=current-agent AND status=hooked, finds nothing.\n\n**Current workaround:** gt-sling-fix and gt-hook-fix scripts manually run bd update --assignee after hooking.\n\n**Check on gt upgrade:** Test if `gt hook` now sets assignee. If so, remove workaround scripts.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T00:38:06.137325+07:00","created_by":"mayor","updated_at":"2026-01-05T09:57:57.26122+07:00","closed_at":"2026-01-05T09:57:57.26122+07:00","close_reason":"Fixed: assigneeID() now returns 'rig/polecats/name' format to match resolveSelfTarget()","labels":["ai:ready","bug","gt-upgrade"],"comments":[{"id":8,"issue_id":"gm-d2e","author":"mayor","text":"**Root cause found 2026-01-05:**\n\nThe bug is an **assignee format mismatch**, not a missing --assignee flag.\n\n**gt hook sets assignee to:**\n```\nflamingo_dominion/polecats/furiosa\n```\n(from `sling.go:resolveSelfTarget()` line: `%s/polecats/%s`)\n\n**polecat.Manager.Get() queries for:**\n```\nflamingo_dominion/furiosa\n```\n(from `polecat/manager.go:assigneeID()` line: `%s/%s`)\n\nThey don't match! So `GetAssignedIssue(assignee)` never finds the hooked bead.\n\n**Fix options:**\n1. Change `resolveSelfTarget()` to use `%s/%s` format (remove polecats/ prefix)\n2. Change `assigneeID()` to use `%s/polecats/%s` format (add polecats/ prefix)\n3. Update existing assignees in beads DB (migration)\n\n**Recommended:** Option 1 - change resolveSelfTarget to match assigneeID, since that's the authoritative source in manager.go","created_at":"2026-01-05T02:53:44Z"}]}
{"id":"gm-dcw","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"closed","priority":2,"issue_type":"molecule","created_at":"2026-01-04T23:46:03.79298+07:00","created_by":"tanwa","updated_at":"2026-01-05T00:12:56.716696+07:00","closed_at":"2026-01-05T00:12:56.716696+07:00","close_reason":"Duplicate of gm-9mk (Witness Patrol)"}
{"id":"gm-dj3","title":"[VERIFY] Boot Dog checks Deacon every 5 minutes","description":"Verify Boot Dog behavior per Gas Town spec:\n\n**Expected behavior:**\n- Boot Dog is awakened every 5 minutes by daemon\n- Boot decides if Deacon needs: heartbeat, nudge, restart, or to be left alone\n- Boot then goes back to sleep\n\n**Test:**\n1. Observe daemon ping frequency to Boot\n2. Verify Boot checks Deacon state\n3. Verify Boot takes appropriate action (nudge/restart/leave alone)\n\n**Scope:** Town-wide (single Boot Dog)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:09:05.057168+07:00","created_by":"mayor","updated_at":"2026-01-05T09:09:05.057168+07:00","labels":["ai:ready"]}
{"id":"gm-ds7","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-04T22:40:21.466776+07:00","created_by":"tanwa","updated_at":"2026-01-04T22:40:21.466776+07:00","labels":["ai:ready"]}
{"id":"gm-et9","title":"[VERIFY] Deacon propagates 'Do Your Job' signal to workers","description":"Verify Deacon agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Deacon receives ping from daemon every ~2 minutes\n- Deacon propagates signal to Witnesses and Refineries\n- Workers respond to signal by checking their work queues\n- Signal cascades: Deacon → Witness → Polecats\n\n**Test:**\n1. Observe daemon ping frequency\n2. Trace signal propagation through agents\n3. Verify workers respond to 'Do Your Job' signal\n\n**Scope:** Town-wide (single Deacon)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:07:23.469088+07:00","created_by":"mayor","updated_at":"2026-01-05T09:07:23.469088+07:00","labels":["ai:ready"]}
{"id":"gm-fk0","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"hooked","priority":2,"issue_type":"molecule","created_at":"2026-01-05T00:44:24.091726+07:00","created_by":"tanwa","updated_at":"2026-01-05T01:56:56.929998+07:00"}
{"id":"gm-fsa","title":"[VERIFY] Polecat closes beads as workflow progresses","description":"Verify Polecat agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Polecat marks beads in_progress when starting\n- Polecat closes beads upon completion\n- Polecat files discovered issues as new beads\n- Progress is visible via bd show/bd list\n\n**Test:**\n1. Assign multi-step work to polecat\n2. Monitor bead status during execution\n3. Verify beads transition: open → in_progress → closed\n\n**Rigs to test:** All rigs with polecats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:08:11.39068+07:00","created_by":"mayor","updated_at":"2026-01-05T13:51:28.330526+07:00","closed_at":"2026-01-05T13:51:28.330526+07:00","close_reason":"VERIFIED PASS: With GUPP fix, polecats properly update bead status during execution.","comments":[{"id":4,"issue_id":"gm-fsa","author":"mayor","text":"Test 2026-01-05: FAIL\n\nChecked fd-5lb (hooked to furiosa):\n- Status: hooked (should be in_progress if polecat is working)\n- Assignee: correctly set to flamingo_dominion/polecats/furiosa\n\nFAILURE: Polecat did not update status to in_progress because:\n1. GUPP failure - polecat stuck at INSERT mode, never started working\n2. Even if it had started, unclear if auto-update happens\n\nRoot cause: Cascading from GUPP failure - no work started = no status update.\n\nNeed to verify: Does a working polecat (one that actually executes) update status?","created_at":"2026-01-05T02:31:52Z"}]}
{"id":"gm-gah","title":"[GT-UPGRADE] Witness should auto-spawn polecat sessions","description":"Currently the Witness monitors polecats but doesn't spawn Claude sessions when work is hooked.\n\n**Current workaround:** gt-sling-fix script spawns tmux session after hooking.\n\n**Desired behavior:** When Mayor slings work to a polecat, Witness should detect the hooked bead and spawn the Claude session automatically.\n\n**Check on gt upgrade:** Test if `gt sling` now spawns sessions. If so, remove workaround from gt-sling-fix.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T00:37:59.563409+07:00","created_by":"mayor","updated_at":"2026-01-05T13:20:59.327785+07:00","closed_at":"2026-01-05T13:20:59.327785+07:00","close_reason":"Fixed in Gas Town v0.2.0: gt sling now auto-spawns polecat sessions. Tested: 'gt sling ti-knl tanwa_info' created polecat 'slit' and spawned tmux session automatically.","labels":["ai:ready","gt-upgrade","workaround"]}
{"id":"gm-gli","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"closed","priority":2,"issue_type":"molecule","created_at":"2026-01-04T23:32:36.853904+07:00","created_by":"tanwa","updated_at":"2026-01-05T00:12:51.476134+07:00","closed_at":"2026-01-05T00:12:51.476134+07:00","close_reason":"Duplicate of gm-7sq (Refinery Patrol)"}
{"id":"gm-ldg","title":"[VERIFY] Patrol agents use exponential backoff when idle","description":"Verify Patrol agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Patrols have exponential backoff\n- Agent gradually goes to sleep if no work in patrol steps\n- Waits longer and longer to start next patrol\n- Any mutating gt/bd command wakes the town\n\n**Test:**\n1. Let patrols run with no work available\n2. Observe increasing delays between patrol runs\n3. Issue a mutating command and verify town wakes\n\n**Agents to test:** Refinery, Witness, Deacon","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:09:11.676737+07:00","created_by":"mayor","updated_at":"2026-01-05T09:09:11.676737+07:00","labels":["ai:ready"]}
{"id":"gm-prr","title":"Add .runtime/ to crew gitignore files","description":"2 locations missing .runtime gitignore pattern: 10x_screening/crew/tanwa, tanwa_info/crew/tanwa","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T23:26:41.565899+07:00","created_by":"mayor","updated_at":"2026-01-04T23:26:41.565899+07:00","labels":["ai:ready"]}
{"id":"gm-qc6","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"hooked","priority":2,"issue_type":"molecule","created_at":"2026-01-05T00:44:44.654158+07:00","created_by":"tanwa","updated_at":"2026-01-05T01:56:46.560922+07:00"}
{"id":"gm-rpc","title":"[VERIFY] Refinery merges one-at-a-time to main","description":"Verify Refinery agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Refinery processes merge queue sequentially\n- Only one PR merged at a time\n- Preflight cleanup before processing\n- Postflight handoff after queue empty\n- Escalates conflicts it cannot resolve\n\n**Test:**\n1. Queue multiple PRs to refinery\n2. Verify sequential processing\n3. Check preflight/postflight steps execute\n\n**Rigs to test:** All rigs with active refineries","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:07:00.47251+07:00","created_by":"mayor","updated_at":"2026-01-05T09:07:00.47251+07:00","labels":["ai:ready"]}
{"id":"gm-uxw","title":"[VERIFY] Witness detects stuck polecats (5+ min inactive)","description":"Verify Witness agent behavior per Gas Town spec:\n\n**Expected behavior:**\n- Witness should detect polecats with no activity for 5+ minutes\n- Should nudge/restart stuck workers\n- Should log stuck detection\n\n**Test:**\n1. Start a polecat with work\n2. Let it idle for 5+ minutes without progress\n3. Check if Witness detects and nudges\n\n**Rigs to test:** All rigs with active witnesses","notes":"v0.2.0 testing (2026-01-05): Witness patrol runs but detection is based on bead status (hooked=working), not actual session activity. Polecats sat idle 20+ min without detection. Needs session activity monitoring (tmux output, tool calls) for accurate detection.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-05T09:06:46.973368+07:00","created_by":"mayor","updated_at":"2026-01-05T13:22:05.913367+07:00","comments":[{"id":2,"issue_id":"gm-uxw","author":"mayor","text":"TEST RESULT: FAIL\n\nTested 2026-01-05:\n- Witness reports furiosa as 'working' when actually stuck/idle\n- Polecat sat unresponsive for 10+ minutes\n- Witness did not detect or nudge\n\nROOT CAUSE:\n- Witness may be checking bead status (hooked=working) not actual session activity\n- Need actual session activity monitoring (tmux output, tool calls, etc.)","created_at":"2026-01-05T02:17:21Z"}]}
{"id":"gm-vhd","title":"[VERIFY] Gas Town graceful degradation - workers work independently","description":"Verify Gas Town graceful degradation per spec:\n\n**Expected behavior:**\n- Every worker can do their job independently or in groups\n- Can choose which parts of Gas Town to run\n- Works in 'no-tmux' mode with naked Claude Code sessions\n- System limps along without real-time messages\n\n**Test:**\n1. Stop Deacon and verify Witnesses still work\n2. Stop Witness and verify Polecats still complete work\n3. Run in no-tmux mode and verify basic function\n\n**Scope:** Town-wide","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T09:10:13.260564+07:00","created_by":"mayor","updated_at":"2026-01-05T09:10:13.260564+07:00","labels":["ai:ready"]}
{"id":"gm-y06","title":"Add missing role prompt templates","description":"6 role prompt templates missing for both rigs: deacon.md.tmpl, witness.md.tmpl, refinery.md.tmpl. Should be in internal/templates/roles/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:26:34.494982+07:00","created_by":"mayor","updated_at":"2026-01-05T10:33:26.8779+07:00","closed_at":"2026-01-05T10:33:26.8779+07:00","close_reason":"All role templates already exist: boot, crew, deacon, mayor, polecat, refinery, witness in internal/templates/roles/","labels":["ai:ready"]}
{"id":"gm-yds","title":"Check if gt hook/sling workarounds still needed after gt upgrade","description":"After gt is upgraded, verify if these bugs are fixed:\n\n1. gt hook doesn't set assignee field (gm-0fn)\n2. gt sling fails to hook beads properly\n\nIf fixed, remove:\n- ~/gt/bin/gt-sling-fix\n- ~/gt/bin/gt-hook-fix  \n- Workaround section in ~/gt/CLAUDE.md\n\nTest by running:\n  gt sling \u003cbead\u003e \u003crig\u003e\n  gt hook status  # Should show the hooked bead\n\nCurrent gt version: gt version 0.1.1","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T23:41:46.847431+07:00","created_by":"mayor","updated_at":"2026-01-04T23:41:46.847431+07:00","labels":["ai:ready"]}
