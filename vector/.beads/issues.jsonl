{"id":"ve-051","title":"Sanitize database errors before returning to client","description":"Raw SQLite errors exposed via res.status(500).json({ error: err.message }). Replace with generic 'Database error' messages and log details server-side. Location: backend/server.js (all error handlers)","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:58.130547+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:58.130547+07:00"}
{"id":"ve-1a2","title":"Add user_id to database schema","description":"Add user_id column to workouts, exercise_logs, personal_records, and settings tables. Create migration script for schema update.","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:15:41.512851+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:15:41.512851+07:00"}
{"id":"ve-2qb","title":"Add rate limiting to API endpoints","description":"No rate limiting protection. Add express-rate-limit middleware to prevent abuse, especially on /api/workouts/search. Location: backend/server.js","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:41.727042+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:41.727042+07:00"}
{"id":"ve-3is","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T12:11:31.598914+07:00","created_by":"Tanwa Arpornthip","updated_at":"2026-01-24T12:11:31.598914+07:00"}
{"id":"ve-5c4","title":"Implement IndexedDB for service worker offline queue","description":"Service worker has TODO placeholders for IndexedDB operations. Implement getPendingUpdates() and removePendingUpdate() for offline workout updates. Location: frontend/public/sw.js:192-200","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:39.352241+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:39.352241+07:00"}
{"id":"ve-6ju","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T12:11:31.7702+07:00","created_by":"Tanwa Arpornthip","updated_at":"2026-01-24T12:11:31.7702+07:00"}
{"id":"ve-71s","title":"Refactor App.jsx into smaller components","description":"App.jsx is 1,484 lines with 21+ state variables. Extract: WorkoutModal.jsx, ExportModal.jsx, StatsBar.jsx, ControlsBar.jsx. Target: reduce to ~800 lines. Location: frontend/src/App.jsx","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:59.347156+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:59.347156+07:00"}
{"id":"ve-79z","title":"Add cache headers and ETags to API responses","description":"API responses lack caching headers. Add Cache-Control and ETag headers to /api/workouts and /api/stats endpoints to reduce redundant requests. Location: backend/server.js","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:37.531224+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:37.531224+07:00"}
{"id":"ve-a6x","title":"Remove unused API endpoints and database tables","description":"Dead code cleanup: Remove unused endpoints (/api/exercises/log, /api/exercises/:name/history, /api/personal-records, /api/export, /api/import/workout-log) and unused tables (exercise_logs, personal_records, migrations, settings). Location: backend/server.js","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:41.193422+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:41.193422+07:00"}
{"id":"ve-afo","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T12:11:31.93707+07:00","created_by":"Tanwa Arpornthip","updated_at":"2026-01-24T12:11:31.93707+07:00"}
{"id":"ve-awe","title":"Add API loading states and error feedback","description":"API failures are silent (console.error only). Add loading indicators for async operations and user-visible error messages with retry option. Location: frontend/src/App.jsx (all fetch functions)","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:26.950595+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:26.950595+07:00"}
{"id":"ve-bkx","title":"Filter API queries by authenticated user","description":"Update all /api endpoints to extract user ID from Clerk session and filter queries by user_id. Ensure users can only read/write their own data.","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:15:42.91525+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:15:42.91525+07:00","dependencies":[{"issue_id":"ve-bkx","depends_on_id":"ve-1a2","type":"blocks","created_at":"2026-01-24T19:15:51.800941+07:00","created_by":"vector/crew/planner"}]}
{"id":"ve-bsc","title":"Migrate existing data to default user","description":"Create migration to assign existing workout data to a default user (current owner). Ensure no data loss during transition to multi-user.","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:15:44.365357+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:15:44.365357+07:00","dependencies":[{"issue_id":"ve-bsc","depends_on_id":"ve-1a2","type":"blocks","created_at":"2026-01-24T19:15:51.876339+07:00","created_by":"vector/crew/planner"}]}
{"id":"ve-dbb","title":"Show user-friendly error messages on API failures","status":"open","priority":1,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-26T13:22:25.053907+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-26T13:22:25.053907+07:00"}
{"id":"ve-dhf","title":"Add LRU cache eviction to prefetchedWorkouts","description":"prefetchedWorkouts cache grows unbounded as user scrolls. Implement LRU eviction to keep only current Â±2 months. Location: App.jsx:79-80, 270-273","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:22.224555+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:22.224555+07:00"}
{"id":"ve-dil","title":"Set up Jest test framework","description":"No test coverage (package.json has placeholder test script). Set up Jest + Supertest for backend API tests. Priority: streak calculation, date-fns calculations, API error handling. Location: backend/package.json, frontend/package.json","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:57.705974+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:57.705974+07:00"}
{"id":"ve-e19","title":"Extract magic numbers to constants file","description":"Hardcoded values scattered throughout: WEEK_HEIGHT=90, minSwipeDistance=50, pullThreshold=80, RPE thresholds. Create src/constants/ui.js for centralized configuration. Location: InfiniteScrollCalendar.jsx, DesktopInfiniteCalendar.jsx, App.jsx","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:35:01.159562+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:35:01.159562+07:00"}
{"id":"ve-hf0","title":"Improve health check to verify database connectivity","description":"Current /health endpoint just returns OK without checking database. Add DB connectivity check and filesystem access verification. Location: backend/server.js:512-518","status":"closed","priority":2,"issue_type":"task","assignee":"vector/crew/backend","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:43.253461+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-26T13:26:14.593521+07:00","closed_at":"2026-01-26T13:26:14.593521+07:00","close_reason":"Implemented DB connectivity check in /health and detailed status in /api/health with latency metrics and filesystem check"}
{"id":"ve-hls","title":"Multi-user data isolation","description":"Add user-specific data isolation so each authenticated user only sees their own workouts. Currently all users share the same database with no user_id filtering.","status":"open","priority":2,"issue_type":"epic","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:15:32.224786+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:15:32.224786+07:00","dependencies":[{"issue_id":"ve-hls","depends_on_id":"ve-1a2","type":"blocks","created_at":"2026-01-24T19:15:53.85458+07:00","created_by":"vector/crew/planner"},{"issue_id":"ve-hls","depends_on_id":"ve-bkx","type":"blocks","created_at":"2026-01-24T19:15:53.93017+07:00","created_by":"vector/crew/planner"},{"issue_id":"ve-hls","depends_on_id":"ve-bsc","type":"blocks","created_at":"2026-01-24T19:15:54.0044+07:00","created_by":"vector/crew/planner"}]}
{"id":"ve-hwe","title":"Add keyboard navigation to calendar","description":"No keyboard support for: Escape to close modals, arrow keys for month navigation, Tab navigation for calendar days, Enter/Space to select. Location: frontend/src/App.jsx, InfiniteScrollCalendar.jsx","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:12.976774+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:12.976774+07:00"}
{"id":"ve-jtf","title":"Add toast notification system","status":"hooked","priority":1,"issue_type":"task","assignee":"vector/crew/frontend","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-26T13:22:19.903165+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-26T13:24:56.610224+07:00"}
{"id":"ve-krs","title":"Add pagination to API list endpoints","description":"List endpoints return all data without pagination. Add ?page=1\u0026limit=50 support to /api/workouts, /api/personal-records, /api/workouts/search. Location: backend/server.js","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:30.620405+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:30.620405+07:00"}
{"id":"ve-kt8","title":"Replace native alerts with toast notifications","description":"Using native alert() for user feedback is poor UX on mobile. Implement toast notification component for success/error messages. Location: frontend/src/App.jsx (search for 'alert(')","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:15.075298+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:15.075298+07:00"}
{"id":"ve-m0i","title":"Add loading skeletons to TodayCard and calendar","status":"open","priority":1,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-26T13:22:22.607662+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-26T13:22:22.607662+07:00"}
{"id":"ve-mb4","title":"Improve calendar accessibility with semantic HTML","description":"Calendar uses divs instead of semantic table elements. Convert to proper table/thead/tbody/tr/td structure with role attributes. Add aria-labels to day cells and navigation. Location: frontend/src/components/InfiniteScrollCalendar.jsx","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:10.992946+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:10.992946+07:00"}
{"id":"ve-q3z","title":"Add React.memo to calendar components","description":"InfiniteScrollCalendar and DesktopInfiniteCalendar are not memoized, causing unnecessary re-renders. Wrap with React.memo and optimize useCallback dependencies. Location: components/InfiniteScrollCalendar.jsx, components/DesktopInfiniteCalendar.jsx","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:26.322371+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:26.322371+07:00"}
{"id":"ve-rig-vector","title":"vector","description":"Rig identity bead for vector.\n\nrepo: git@github.com:CommanderCrowCode/vector.git\nprefix: ve\nstate: active","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T12:11:32.064749+07:00","created_by":"Tanwa Arpornthip","updated_at":"2026-01-24T12:11:32.064749+07:00","labels":["gt:rig"]}
{"id":"ve-s82","title":"Reduce props drilling with WorkoutContext","description":"InfiniteScrollCalendar receives 14+ props. Create WorkoutContext to provide utility functions (getWorkoutIcon, getRpeColor, etc.) globally instead of drilling. Location: frontend/src/App.jsx, components/","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:28.781004+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:28.781004+07:00"}
{"id":"ve-umt","title":"Split CSS bundle and implement critical CSS","description":"CSS is 4,074 lines across 3 files. Split into critical (above-fold) vs deferred. Inline critical CSS in head. Consider CSS modules for component-specific styles. Files: App.css (2,523 lines), mobile-responsive.css (1,076 lines), index.css (475 lines)","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:24.025444+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:24.025444+07:00"}
{"id":"ve-vector-crew-planner","title":"Crew worker planner in vector - human-managed persistent workspace.","description":"Crew worker planner in vector - human-managed persistent workspace.\n\nrole_type: crew\nrig: vector\nagent_state: idle\nhook_bead: null\nrole_bead: hq-crew-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T12:24:45.921491+07:00","created_by":"Tanwa Arpornthip","updated_at":"2026-01-24T12:24:45.921491+07:00","labels":["gt:agent"]}
{"id":"ve-vector-refinery","title":"Refinery for vector - processes merge queue.","description":"Refinery for vector - processes merge queue.\n\nrole_type: refinery\nrig: vector\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T12:11:31.302864+07:00","created_by":"Tanwa Arpornthip","updated_at":"2026-01-24T12:11:31.302864+07:00","labels":["gt:agent"]}
{"id":"ve-vector-witness","title":"Witness for vector - monitors polecat health and progress.","description":"Witness for vector - monitors polecat health and progress.\n\nrole_type: witness\nrig: vector\nagent_state: idle\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T12:11:30.944238+07:00","created_by":"Tanwa Arpornthip","updated_at":"2026-01-24T12:11:30.944238+07:00","labels":["gt:agent"]}
{"id":"ve-vy4","title":"Add input validation to API endpoints","description":"Missing validation: RPE should be 1-10, dates should be YYYY-MM-DD format, search query max length. Add Joi/Zod schema validation. Location: backend/server.js (PUT /api/workouts/:date/performance, GET /api/workouts/search)","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:54.539049+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:54.539049+07:00"}
{"id":"ve-xwo","title":"Add graceful shutdown handling","description":"Only SIGTERM handled, missing SIGINT. No pending request draining. Add proper shutdown sequence that waits for in-flight requests. Location: backend/server.js:538-543","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:34:45.153352+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:34:45.153352+07:00"}
{"id":"ve-y04","title":"Clear service worker cache on Clerk logout","description":"Cached API responses persist after logout, potentially showing stale data. Listen for Clerk signout event and clear data-cache. Location: frontend/src/main.jsx, frontend/public/sw.js","status":"open","priority":2,"issue_type":"task","owner":"tanwa@twoflamingos.capital","created_at":"2026-01-24T19:33:56.002324+07:00","created_by":"vector/crew/planner","updated_at":"2026-01-24T19:33:56.002324+07:00"}
